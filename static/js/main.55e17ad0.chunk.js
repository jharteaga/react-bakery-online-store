(this["webpackJsonpreact-bakery-online-store"]=this["webpackJsonpreact-bakery-online-store"]||[]).push([[0],{141:function(e,a,t){e.exports=t.p+"static/media/carousel-img1.0be2083a.jpg"},142:function(e,a,t){e.exports=t.p+"static/media/carousel-img2.6691f172.jpg"},143:function(e,a,t){e.exports=t.p+"static/media/carousel-img3.66479b57.jpg"},147:function(e,a,t){e.exports=t(270)},157:function(e,a){},159:function(e,a){},170:function(e,a){},172:function(e,a){},199:function(e,a){},201:function(e,a){},202:function(e,a){},208:function(e,a){},210:function(e,a){},228:function(e,a){},231:function(e,a){},247:function(e,a){},250:function(e,a){},268:function(e,a,t){},270:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(21),c=t.n(l),s=t(16),m=t(7),o=t(6),i=t(27),d=t.n(i),u=t(287),p=t(28),g=t(288),b=t(140),E=t.n(b),f=n.a.createContext(),v=Object(p.a)((function(e){return{badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(u.a);function h(){var e=Object(r.useContext)(f);return n.a.createElement(g.a,{"aria-label":"cart",id:"cart-icon",onClick:e.onShowCart,className:"cart"},n.a.createElement(v,{badgeContent:e.numItems,color:"primary"},n.a.createElement(E.a,{fontSize:"large",className:"mx-0 my-0",style:{color:"#fff"}})))}var N=function(e){var a=Object(r.useState)(void 0),t=Object(o.a)(a,2),l=t[0],c=t[1];return Object(r.useEffect)((function(){!function(){var e=localStorage.getItem("currentUser");c(e?d.a.decode(e,"secret"):void 0)}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-light bg-dark mb-4"},n.a.createElement(s.b,{className:"navbar-brand",to:"/"},"Bakery Online Store"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},n.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0 ml-auto"},n.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show"},n.a.createElement(s.c,{className:"nav-link mr-5",to:"/home"},"Home")),n.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show"},n.a.createElement(s.c,{className:"nav-link mr-5",to:"/bakery"},"Bakery")),n.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show"},n.a.createElement(s.c,{className:"nav-link mr-5",to:"/drinks"},"Drinks")),n.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show"},n.a.createElement(s.c,{className:"nav-link mr-5",to:"/contact-us"},"Contact Us"))),!l&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.c,{to:"/login"},n.a.createElement("button",{className:"btn btn-primary my-2 my-sm-0 mr-2","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Login")),n.a.createElement(s.c,{to:"/sign-up"},n.a.createElement("button",{className:"btn btn-danger my-2 my-sm-0","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Sign Up"))),l&&n.a.createElement("div",{"data-toggle":"collapse","data-target":".navbar-collapse.show"},n.a.createElement("span",{className:"user-info"},"Welcome, ",l.firstName,"!"),n.a.createElement(s.b,{to:"/shopping-cart"},n.a.createElement(h,null)),n.a.createElement(s.c,{to:"/logout"},n.a.createElement("button",{className:"btn btn-danger my-2 my-sm-0"},"Logout"))))))},y=t(11),k=t(37),w=t.n(k),O=t(44),S=t(85),j=t.n(S);t(263);j.a.initializeApp({apiKey:"AIzaSyCeBWG8d9vyy8hpvhlDOAecTjdfZ02S1CY",authDomain:"bakery-online-store.firebaseapp.com",databaseURL:"https://bakery-online-store.firebaseio.com",projectId:"bakery-online-store",storageBucket:"bakery-online-store.appspot.com",messagingSenderId:"668149766002",appId:"1:668149766002:web:6f416db0557e91278befeb",measurementId:"G-6170QTEVE4"});var I=j.a;var C=function(e){var a,t,l,c,s=Object(O.a)(),m=s.register,i=s.handleSubmit,u=s.errors,p=s.getValues,g=Object(r.useState)(void 0),b=Object(o.a)(g,2),E=b[0],f=b[1],v=function(e){var a=d.a.encode(e,"secret");localStorage.setItem("currentUser",a)};return Object(r.useEffect)((function(){}),[E]),JSON.parse(localStorage.getItem("currentUser"))?n.a.createElement(y.a,{to:"/"}):n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Login"),n.a.createElement("form",{onSubmit:i((function(){I.firestore().collection("users").where("username","==",p("email")).where("password","==",p("password")).get().then((function(e){var a=e.docs[0].data();f(void 0),v(a),window.location="/react-bakery-online-store/"})).catch((function(e){f({message:"Invalid Credentials"})}))}))},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email address"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",ref:m({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}),placeholder:"Enter email address"}),"required"===(null===(a=u.email)||void 0===a?void 0:a.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required"),"pattern"===(null===(t=u.email)||void 0===t?void 0:t.type)&&n.a.createElement("div",{className:"alert alert-danger"},"Please, enter a valid email")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",ref:m({required:!0,minLength:6}),placeholder:"Enter password"}),"required"===(null===(l=u.password)||void 0===l?void 0:l.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required"),"minLength"===(null===(c=u.password)||void 0===c?void 0:c.type)&&n.a.createElement("div",{className:"alert alert-danger"},"Password should have at least 8 characters")),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign In")),n.a.createElement("br",null),E&&n.a.createElement("div",{className:"alert alert-danger"},E.message))},q=t(65),_=t(33);var x=function(e){var a=Object(r.useState)([]),t=Object(o.a)(a,2),l=t[0],c=t[1],s=Object(r.useState)(void 0),m=Object(o.a)(s,2),i=m[0],u=m[1],p=Object(r.useContext)(f);return Object(r.useEffect)((function(){I.firestore().collection("bakery").onSnapshot((function(e){var a=e.docs.map((function(e){return Object(q.a)({id:e.id},e.data())}));c(a)})),function(){var e=localStorage.getItem("currentUser");u(e?d.a.decode(e,"secret"):void 0)}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Bakery"),n.a.createElement("div",{className:"bakery"},l.map((function(e){return n.a.createElement("div",{key:e.id,className:"bakery__box"},n.a.createElement("img",{src:e.image,alt:"Dessert",className:"bakery__img"}),n.a.createElement("h4",{className:"bakery__name"},e.name),n.a.createElement("p",{className:"bakery__description"},e.description),n.a.createElement("div",{className:"bakery__row"},n.a.createElement("span",{className:"bakery__price"},"$",e.price),i&&n.a.createElement("span",{className:"bakery__cart",onClick:function(){p.onAddItem(e),_.b.success("\u2705 ".concat(e.name," added"),{position:"bottom-center",autoClose:2500,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0})}},n.a.createElement("i",{className:"fas fa-cart-arrow-down"}))))}))),n.a.createElement(_.a,null))};var F=function(e){var a=Object(r.useState)([]),t=Object(o.a)(a,2),l=t[0],c=t[1],s=Object(r.useState)(void 0),m=Object(o.a)(s,2),i=m[0],u=m[1],p=Object(r.useContext)(f);return Object(r.useEffect)((function(){I.firestore().collection("drinks").onSnapshot((function(e){var a=e.docs.map((function(e){return Object(q.a)({id:e.id},e.data())}));c(a)})),function(){var e=localStorage.getItem("currentUser");u(e?d.a.decode(e,"secret"):void 0)}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Drinks"),n.a.createElement("div",{className:"drinks"},l.map((function(e){return n.a.createElement("div",{key:e.id,className:"bakery__box"},n.a.createElement("img",{src:e.image,alt:"Dessert",className:"bakery__img"}),n.a.createElement("h4",{className:"bakery__name"},e.name),n.a.createElement("p",{className:"bakery__description"},e.description),n.a.createElement("div",{className:"bakery__row"},n.a.createElement("span",{className:"bakery__price"},"$",e.price),i&&n.a.createElement("span",{className:"bakery__cart",onClick:function(){p.onAddItem(e),_.b.success("\u2705 ".concat(e.name," added"),{position:"bottom-center",autoClose:2500,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0})}},n.a.createElement("i",{className:"fas fa-cart-arrow-down"}))))}))),n.a.createElement(_.a,null))};var T=function(e){var a,t,r,l,c,s=Object(O.a)(),m=s.register,o=s.handleSubmit,i=s.errors;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Contact Us"),n.a.createElement("form",{onSubmit:o((function(){console.log("Submitted")}))},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",placeholder:"Enter first name",ref:m({required:!0,minLength:1})}),"required"===(null===(a=i.firstName)||void 0===a?void 0:a.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"lastName",name:"lastName",placeholder:"Enter last name",ref:m({required:!0,minLength:1})}),"required"===(null===(t=i.lastName)||void 0===t?void 0:t.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter email",ref:m({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})}),"required"===(null===(r=i.email)||void 0===r?void 0:r.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required"),"pattern"===(null===(l=i.email)||void 0===l?void 0:l.type)&&n.a.createElement("div",{className:"alert alert-danger"},"Please, enter a valid email")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"message"},"Message"),n.a.createElement("textarea",{className:"form-control",id:"message",name:"message",rows:"3",placeholder:"Enter message",ref:m({required:!0,minLength:1})}),"required"===(null===(c=i.message)||void 0===c?void 0:c.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required")),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-contact-send"},"Send")))},L=t(57),A=t(141),P=t.n(A),U=t(142),D=t.n(U),B=t(143),z=t.n(B);var Z=function(e){return n.a.createElement(L.a,{className:"home__carousel"},n.a.createElement(L.a.Item,null,n.a.createElement("img",{className:"d-block w-100",src:P.a,alt:"First slide"})),n.a.createElement(L.a.Item,null,n.a.createElement("img",{className:"d-block w-100",src:D.a,alt:"Third slide"})),n.a.createElement(L.a.Item,null,n.a.createElement("img",{className:"d-block w-100",src:z.a,alt:"Third slide"})))};var $=function(e){return n.a.createElement("div",{className:"social-media"},n.a.createElement("i",{className:"fab fa-instagram"}),n.a.createElement("i",{className:"fab fa-facebook"}),n.a.createElement("i",{className:"fab fa-twitter"}))};var H=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"The Sweetest Place in America!"),n.a.createElement(Z,null),n.a.createElement($,null))};var J=function(e){return n.a.createElement("h1",null,"Not Found")};var Q=function(e){var a=Object(r.useContext)(f),t=Object(r.useState)([]),l=Object(o.a)(t,2),c=l[0],s=l[1];return Object(r.useEffect)((function(){var e=w.a.values(w.a.groupBy(a.cartItems,(function(e){return e.id})));s(e)}),[a.cartItems]),n.a.createElement("div",{className:"shopping-container"},n.a.createElement("div",{className:"preview-checkout mt-2"},n.a.createElement("h1",null,n.a.createElement("p",null,"Total: ")," US$",c.reduce((function(e,a){return e+a[0].price*a.length}),0).toFixed(2)),n.a.createElement("button",{className:"btn btn-success btn-lg mt-2"},"Proceed to Checkout")),n.a.createElement("div",{className:"table-responsive-sm mb-5 shopping-table"},n.a.createElement("h1",{className:"mb-4"},"Shopping Cart"),n.a.createElement("table",{className:"table"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{className:"image-col"}),n.a.createElement("th",null,"Product Name"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null))),n.a.createElement("tbody",null,c.map((function(e){return n.a.createElement("tr",{key:e[0].id,className:""},n.a.createElement("td",{className:"image-col"},n.a.createElement("img",{src:e[0].image,alt:"product",className:"img-cart"})),n.a.createElement("td",null,e[0].name),n.a.createElement("td",null,"US$ ",e[0].price),n.a.createElement("td",null,n.a.createElement("select",{id:"quantity",defaultValue:e.length,onChange:function(t){return a.onQuantityChange(e[0],t.target.value)}},Object(m.a)(Array(5).keys()).map((function(a){return e.length,n.a.createElement("option",{key:a+1,value:a+1},a+1)})))),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){a.onDeleteItem(e[0]),_.b.error("\u2705 ".concat(e[0].name," removed"),{position:"bottom-center",autoClose:2500,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!1,draggable:!1,progress:void 0})}},"Remove")))}))))),n.a.createElement(_.a,null))};var R=function(e){return Object(r.useEffect)((function(){localStorage.removeItem("currentUser"),window.location="/react-bakery-online-store"})),null},V=t(10),G=t.n(V),W=t(23);var K=function(e){var a,t,l,c,s,m,i,u,p=Object(O.a)(),g=p.register,b=p.handleSubmit,E=p.errors,f=p.getValues,v=Object(r.useState)(void 0),h=Object(o.a)(v,2),N=h[0],y=h[1],k=function(){var e=Object(W.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.firestore().collection("users").where("username","==",f("email")).get().then((function(e){e.docs[0].data()&&y({message:"This email address is already registered."})})).catch((function(e){w()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(W.a)(G.a.mark((function e(){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={firstName:f("firstName"),lastName:f("lastName"),username:f("email"),password:f("password")},e.prev=1,e.next=4,I.firestore().collection("users").add({firstName:f("firstName"),lastName:f("lastName"),username:f("email"),password:f("password")});case 4:localStorage.setItem("currentUser",d.a.encode(a,"secret")),window.location="/react-bakery-online-store/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y({message:"There is a problem accessing the data. Try again in a few moment 2"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Sign Up"),n.a.createElement("form",{onSubmit:b(k)},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",ref:g({required:!0,minLength:1}),placeholder:"Enter first Name"}),"required"===(null===(a=E.firstName)||void 0===a?void 0:a.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required"),"minLength"===(null===(t=E.firstName)||void 0===t?void 0:t.type)&&n.a.createElement("div",{className:"alert alert-danger"},"First Name should have at least 1 character")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"lastName",name:"lastName",ref:g({required:!0,minLength:1}),placeholder:"Enter last Name"}),"required"===(null===(l=E.lastName)||void 0===l?void 0:l.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required"),"minLength"===(null===(c=E.lastName)||void 0===c?void 0:c.type)&&n.a.createElement("div",{className:"alert alert-danger"},"Last Name should have at least 1 character")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email address"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",ref:g({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}),placeholder:"Enter email address"}),"required"===(null===(s=E.email)||void 0===s?void 0:s.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required"),"pattern"===(null===(m=E.email)||void 0===m?void 0:m.type)&&n.a.createElement("div",{className:"alert alert-danger"},"Enter a valid email")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",ref:g({required:!0,minLength:6}),placeholder:"Enter password"}),"required"===(null===(i=E.password)||void 0===i?void 0:i.type)&&n.a.createElement("div",{className:"alert alert-danger"},"This field is required"),"minLength"===(null===(u=E.password)||void 0===u?void 0:u.type)&&n.a.createElement("div",{className:"alert alert-danger"},"Password should have at least 6 characters")),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Register")),n.a.createElement("br",null),N&&n.a.createElement("div",{className:"alert alert-danger"},N.message))};var M=function(){var e=Object(r.useState)(localStorage.getItem("userCartItems")?JSON.parse(localStorage.getItem("userCartItems")):[]),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(r.useState)(localStorage.getItem("userCartItems")?JSON.parse(localStorage.getItem("userCartItems")).length:0),s=Object(o.a)(c,2),i=s[0],d=s[1],u=function(e,a){for(var t=[],r=0;r<a;r++)t.push(e);return t};return Object(r.useEffect)((function(){localStorage.setItem("userCartItems",JSON.stringify(t))}),[t]),n.a.createElement(n.a.Fragment,null,n.a.createElement(f.Provider,{value:{numItems:i,cartItems:t,onAddItem:function(e){l(t.length>0?[].concat(Object(m.a)(t),[e]):[e]),d(i+1)},onShowCart:function(){},onDeleteItem:function(e){var a=Object(m.a)(t).filter((function(a){return a.id!==e.id})),r=a.length;l(a),d(r)},onQuantityChange:function(e,a){var r=Object(m.a)(t).filter((function(a){return a.id!==e.id})),n=Object(m.a)(t).filter((function(a){return a.id===e.id})),c=a<n.length?w.a.dropRight(n,n.length-a):u(e,a);n=w.a.concat(r,c),l(n),d(n.length)}}},n.a.createElement(N,null),n.a.createElement("main",{className:"container"},n.a.createElement(y.d,null,n.a.createElement(y.b,{path:"/logout",component:R}),n.a.createElement(y.b,{path:"/sign-up",component:K}),n.a.createElement(y.b,{path:"/login",component:C}),n.a.createElement(y.b,{path:"/shopping-cart",component:Q}),n.a.createElement(y.b,{path:"/bakery",component:x}),n.a.createElement(y.b,{path:"/drinks",component:F}),n.a.createElement(y.b,{path:"/contact-us",component:T}),n.a.createElement(y.b,{path:"/home",component:H}),n.a.createElement(y.b,{path:"/not-found",component:J}),n.a.createElement(y.a,{from:"/",exact:!0,to:"/home"}),n.a.createElement(y.a,{to:"/not-found"})))))};t(267),t(268),t(269);c.a.render(n.a.createElement(s.a,{basename:"/react-bakery-online-store"},n.a.createElement(M,null)),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.55e17ad0.chunk.js.map